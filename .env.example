# =============================================================================
# Shopify Sync Service - Environment Configuration
# =============================================================================
# NOTE: All variables can be provided as either environment variables or
# secrets (e.g., from Google Cloud Secret Manager). The application will
# use whichever is provided. Secrets take precedence if both are defined.
# =============================================================================

# Environment Configuration
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=DEBUG

# Database Configuration
# Can be provided as plain env var (development) or secret (production)
DB_DSN=postgresql://user:password@localhost:5432/shopify_sync?options=-c%20search_path=shopify_sync

# API Key for Service-to-Service Authentication
# This is REQUIRED for all API endpoints (except health checks and Shopify webhooks)
# Generate using: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEY=your_generated_api_key_here

# Shopify API Configuration
# Can be provided as plain env vars (development) or secrets (production)
SHOPIFY_API_KEY=your_shopify_api_key
SHOPIFY_API_SECRET=your_shopify_api_secret
SHOPIFY_API_VERSION=2024-01
SHOPIFY_SCOPES=read_products,read_orders,read_customers

# Application Configuration
APP_HOST=0.0.0.0
APP_PORT=8000

# OAuth Redirect URL
OAUTH_REDIRECT_URL=http://localhost:8000/api/oauth/callback

# Application URL (for webhook registration and Shopify app install)
# In production, this should be your Cloud Run service URL
APP_URL=http://localhost:8000

# Security - Token Encryption
# Generate a key using: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your_generated_encryption_key_here

# Scheduler Configuration (optional - defaults shown)
ENABLE_SCHEDULER=true          # Set to false to disable scheduler
RECONCILIATION_HOUR=2          # Hour of day (0-23) to run reconciliation
RECONCILIATION_MINUTE=0        # Minute of hour (0-59)

# Google Cloud Platform Configuration (required for embeddings)
GCP_PROJECT_ID=your_gcp_project_id
GCP_REGION=us-central1
ENABLE_EMBEDDINGS=true
# For local development, set path to service account key
GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account-key.json